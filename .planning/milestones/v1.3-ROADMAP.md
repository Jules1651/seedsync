# Milestone v1.3: Polish & Clarity

**Status:** âœ… SHIPPED 2026-02-04
**Phases:** 10-11
**Total Plans:** 5

## Overview

Code quality improvements and UX clarity enhancements. Fixed 62 TypeScript lint errors and added file counts to status dropdown options.

## Phases

### Phase 10: Lint Cleanup

**Goal**: Codebase passes all TypeScript lint checks with zero errors
**Depends on**: Phase 9 (UI Cleanup)
**Plans**: 4 plans

Plans:

- [x] 10-01: Style and Empty Function Fixes - Auto-fix var/quotes, add intent comments
- [x] 10-02: Service Layer Return Types - Add explicit return types to all services
- [x] 10-03: Pages/Common/Tests Return Types - Add return types to remaining files
- [x] 10-04: Any Types & Non-Null Assertions - Replace any with proper types, use optional chaining

**Details:**
- Eliminated 62 lint errors across 68 files
- All functions now have explicit return types
- Zero `any` types in application code
- Non-null assertions replaced with optional chaining
- `npm run lint` exits with code 0

### Phase 11: Status Dropdown Counts

**Goal**: Users can see at a glance how many files are in each status category
**Depends on**: Phase 10 (Lint Cleanup)
**Plans**: 1 plan

Plans:

- [x] 11-01: Status Dropdown Counts - Display file counts per status with on-demand refresh

**Details:**
- All status options display count in parentheses (e.g., "Downloaded (5)")
- "All" option shows total file count
- Counts refresh on dropdown open (on-demand, not real-time)
- Empty statuses show "(0)" and are disabled
- Thousands separator for large numbers

---

## Milestone Summary

**Decimal Phases:**

None - linear execution

**Key Decisions:**

- Use `declare let` for ambient declarations (ESLint auto-fix preference)
- Intent comment patterns for empty functions (per typescript-eslint best practices)
- Variadic function types for logger getters (return bound console methods or no-op)
- Use `as unknown as T` for test edge cases (type-safe alternative to `as any`)
- Optional chaining in tests instead of `!` (tests fail on undefined anyway)
- Counts refresh on dropdown open (performance: avoid continuous computation)
- Single-pass count computation (efficiency: O(n) forEach)
- All statuses always visible with (0) count (UX: shows availability)

**Issues Resolved:**

- 62 TypeScript lint errors eliminated
- Status dropdown now shows counts for better UX clarity

**Issues Deferred:**

- Sass @import deprecation (address before Dart Sass 3.0)

**Technical Debt Incurred:**

None - all anti-patterns resolved during phase execution

---

_For current project status, see .planning/ROADMAP.md_
